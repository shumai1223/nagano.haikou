<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>長野の廃校殲滅計画！</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="enhanced-animations.css">
  <style>
    html {
      scroll-behavior: smooth;
    }
    body {
      font-family: 'Noto Sans JP', 'Inter', sans-serif;
      background: linear-gradient(to bottom right, #1a1a2e, #16213e, #0f3460);
      color: #e8eafc;
      overflow-x: hidden;
      line-height: 1.8;
      transition: all 0.3s ease;
    }
    body.menu-open, body.loading {
        overflow: hidden;
    }

    /* Enhanced Preloader */
    #preloader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, #1a1a2e, #16213e, #0f3460);
        background-size: 400% 400%;
        animation: gradient-shift 3s ease infinite;
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: opacity 0.8s ease, visibility 0.8s ease;
    }
    #preloader.loaded {
        opacity: 0;
        visibility: hidden;
    }

    /* Modern Glassmorphism Effects */
    .glass-effect {
        background: rgba(22, 33, 62, 0.7);
        backdrop-filter: blur(15px);
        border: 1px solid rgba(167, 243, 208, 0.2);
    }

    h1, h2, h3, h4 {
      font-family: 'Inter', 'Noto Sans JP', sans-serif;
      color: #a7f3d0;
      font-weight: 700;
    }

    /* Enhanced Header */
    header {
      background: linear-gradient(135deg, #0f3460, #16213e);
      padding: 100px 20px;
      text-align: center;
      position: relative;
      overflow: hidden;
      border-bottom-left-radius: 50px;
      border-bottom-right-radius: 50px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
    }
    header::before {
      content: '';
      position: absolute;
      top: -50px;
      left: -50px;
      width: 200px;
      height: 200px;
      background: rgba(167, 243, 208, 0.15);
      border-radius: 50%;
      filter: blur(60px);
      animation: pulse-glow 8s infinite alternate;
    }
    header::after {
      content: '';
      position: absolute;
      bottom: -50px;
      right: -50px;
      width: 150px;
      height: 150px;
      background: rgba(255, 255, 255, 0.08);
      border-radius: 50%;
      filter: blur(50px);
      animation: pulse-glow 10s infinite alternate-reverse;
    }
    header h1 {
      font-size: 4.8em;
      margin-bottom: 15px;
      color: #e8eafc;
      text-shadow: 3px 3px 15px rgba(0,0,0,0.8);
      opacity: 0;
      transform: translateY(-30px);
      animation: slideInTop 1.2s ease-out forwards;
      background: linear-gradient(45deg, #e8eafc, #a7f3d0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    /* Enhanced Navigation */
    nav {
      padding: 20px;
      position: sticky;
      top: 0;
      z-index: 1000;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    nav.scrolled {
      background: rgba(15, 52, 96, 0.95);
      backdrop-filter: blur(20px);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
      border-bottom: 1px solid rgba(167, 243, 208, 0.3);
    }
    #desktop-nav {
      display: none;
      position: relative;
    }
    #desktop-nav a {
      color: #bfdbfe;
      text-decoration: none;
      margin: 0 20px;
      font-weight: 500;
      font-size: 1.1em;
      white-space: nowrap;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      padding: 12px 16px;
      border-radius: 12px;
      position: relative;
      overflow: hidden;
    }
    #desktop-nav a::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(167, 243, 208, 0.1), transparent);
      transition: left 0.5s ease;
    }
    #desktop-nav a:hover::before {
      left: 100%;
    }
    #desktop-nav a:hover, #desktop-nav a.active {
      transform: translateY(-8px) scale(1.08);
      color: #a7f3d0;
      background: rgba(167, 243, 208, 0.15);
      box-shadow: 0 8px 25px rgba(167, 243, 208, 0.4);
      text-shadow: 0 0 15px #a7f3d0;
    }

    /* Enhanced Main Content */
    main {
      max-width: 1200px;
      margin: 50px auto;
      padding: 50px 30px;
      background: rgba(22, 33, 62, 0.9);
      backdrop-filter: blur(20px);
      border-radius: 25px;
      box-shadow: 0 25px 60px rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(167, 243, 208, 0.2);
      transition: all 0.5s ease;
    }
    section {
      margin-bottom: 100px;
      padding: 50px;
      border-radius: 20px;
      background: rgba(15, 52, 96, 0.5);
      backdrop-filter: blur(10px);
      box-shadow: 
        inset 0 0 20px rgba(0, 0, 0, 0.4),
        0 10px 30px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(167, 243, 208, 0.15);
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
    }
    section::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, transparent, #a7f3d0, transparent);
      transition: left 0.8s ease;
    }
    section:hover::before {
      left: 100%;
    }

    /* Enhanced Typography */
    h2 {
      font-size: 6.8em;
      color: #a7f3d0;
      padding-left: 30px;
      margin-bottom: 60px;
      text-shadow: 
        0 0 20px rgba(167, 243, 208, 0.8), 
        0 0 40px rgba(167, 243, 208, 0.6),
        3px 3px 0px rgba(0,0,0,0.3);
      position: relative;
      background: linear-gradient(45deg, #a7f3d0, #7bdcb5);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    h2::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        width: 10px;
        height: 0;
        background: linear-gradient(to bottom, #a7f3d0, #7bdcb5);
        border-radius: 5px;
        transition: height 1s cubic-bezier(0.23, 1, 0.32, 1);
        box-shadow: 0 0 15px rgba(167, 243, 208, 0.7);
    }
    h2.is-visible::before {
        height: 100%;
    }

    /* Enhanced Cards */
    .member {
      background: linear-gradient(135deg, #1a2a4e, #243c68);
      border-radius: 20px;
      box-shadow: 0 15px 35px rgba(0,0,0,0.7);
      padding: 35px;
      transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      border: 1px solid rgba(167, 243, 208, 0.2);
      text-align: center;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);
    }
    .member::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(167, 243, 208, 0.1) 0%, transparent 70%);
      transform: scale(0);
      transition: transform 0.6s ease;
    }
    .member:hover::before {
      transform: scale(1);
    }
    .member:hover {
      transform: translateY(-20px) rotateX(5deg);
      background: linear-gradient(135deg, #243c68, #2a4a7e);
      box-shadow: 
        0 25px 50px rgba(0,0,0,0.8),
        0 0 30px rgba(167, 243, 208, 0.4);
    }

    /* Enhanced Ideas */
    .idea {
      background: linear-gradient(135deg, rgba(26, 42, 78, 0.9), rgba(36, 60, 104, 0.7));
      border-left: 6px solid #a7f3d0;
      padding: 35px;
      border-radius: 15px;
      margin-bottom: 30px;
      box-shadow: 0 12px 25px rgba(0,0,0,0.5);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);
    }
    .idea::after {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 3px;
      height: 0;
      background: linear-gradient(to bottom, #a7f3d0, #7bdcb5);
      transition: height 0.6s ease;
    }
    .idea:hover::after {
      height: 100%;
    }
    .idea:hover {
      transform: translateY(-15px) scale(1.03);
      border-left-width: 10px;
      box-shadow: 
        0 20px 40px rgba(0,0,0,0.7),
        0 0 30px rgba(167, 243, 208, 0.5);
    }

    /* Enhanced Buttons */
    .btn {
      background: linear-gradient(135deg, #a7f3d0, #7bdcb5);
      color: #0f3460;
      border: none;
      padding: 15px 35px;
      border-radius: 12px;
      cursor: pointer;
      font-weight: bold;
      font-size: 1.1em;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
      position: relative;
      overflow: hidden;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .btn:hover {
      background: linear-gradient(135deg, #7bdcb5, #5cc9a3);
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 15px 35px rgba(0,0,0,0.6);
    }
    .btn:active {
      transform: translateY(-2px) scale(1.02);
    }

    /* Enhanced Forms */
    form {
      background: linear-gradient(135deg, #1a2a4e, #243c68);
      padding: 45px;
      border-radius: 25px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.8);
      border: 1px solid rgba(167, 243, 208, 0.2);
      backdrop-filter: blur(15px);
    }

    /* Enhanced Footer */
    footer {
      background: linear-gradient(135deg, #0f3460, #1a1a2e);
      color: #bfdbfe;
      text-align: center;
      padding: 40px;
      font-size: 1em;
      margin-top: 80px;
      border-top-left-radius: 50px;
      border-top-right-radius: 50px;
      box-shadow: 0 -15px 40px rgba(0, 0, 0, 0.5);
    }

    /* Enhanced Mobile Menu */
    #mobile-menu {
        position: fixed;
        top: 0;
        right: 0;
        width: 100%;
        max-width: 350px;
        height: 100%;
        background: linear-gradient(135deg, rgba(22, 33, 62, 0.95), rgba(15, 52, 96, 0.9));
        backdrop-filter: blur(20px);
        z-index: 1001;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        transform: translateX(100%);
        transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        border-left: 1px solid rgba(167, 243, 208, 0.3);
    }

    /* Enhanced Animations */
    @keyframes gradient-shift {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }
    @keyframes pulse-glow {
        0% { transform: scale(1); opacity: 0.1; }
        50% { transform: scale(1.3); opacity: 0.2; }
        100% { transform: scale(1); opacity: 0.1; }
    }
    @keyframes slideInTop {
      0% { opacity: 0; transform: translateY(-80px) scale(0.9); }
      100% { opacity: 1; transform: translateY(0) scale(1); }
    }
    @keyframes slideInBottom {
      0% { opacity: 0; transform: translateY(80px) scale(0.9); }
      100% { opacity: 1; transform: translateY(0) scale(1); }
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px) scale(0.95); }
        to { opacity: 1; transform: translateY(0) scale(1); }
    }

    /* Responsive Design */
    @media (min-width: 769px) {
        #desktop-nav {
            display: flex;
        }
    }

    @media (max-width: 768px) {
      header {
        padding: 80px 20px;
        border-bottom-left-radius: 30px;
        border-bottom-right-radius: 30px;
      }
      header h1 {
        font-size: 3.2em;
      }
      h2 {
        font-size: 4em;
        padding-left: 20px;
        margin-bottom: 40px;
      }
      main {
        padding: 30px 20px;
        margin: 30px auto;
        border-radius: 20px;
      }
      section {
        margin-bottom: 60px;
        padding: 30px 25px;
        border-radius: 15px;
      }
      .member:hover {
        transform: translateY(-10px);
      }
      .idea:hover {
        transform: translateY(-8px) scale(1.02);
      }
    }

    @media (max-width: 480px) {
      header h1 {
        font-size: 2.8em;
      }
      h2 {
        font-size: 3.2em;
      }
    }

    /* Accessibility */
    @media (prefers-reduced-motion: reduce) {
        * {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
    }

    /* Scrollbar Styling */
    ::-webkit-scrollbar {
        width: 12px;
    }
    ::-webkit-scrollbar-track {
        background: #1a1a2e;
    }
    ::-webkit-scrollbar-thumb {
        background: linear-gradient(to bottom, #a7f3d0, #7bdcb5);
        border-radius: 6px;
    }
    ::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(to bottom, #7bdcb5, #5cc9a3);
    }
  </style>
</head>
<body class="loading">

  <div id="preloader">
      <div class="loader-ring"></div>
  </div>

  <header>
    <h1>長野の廃校殲滅計画！</h1>
    <p class="subtitle">Eradication Plan for Closed Schools</p>
    <p>地域資源を未来へつなぐプロジェクト</p>
  </header>

  <nav>
    <div id="desktop-nav">
        <a href="#mission" data-nav-id="mission" aria-label="私たちの想い">私たちの想い</a>
        <a href="#usage" data-nav-id="usage" aria-label="廃校の活用案">廃校の活用案</a>
        <a href="#challenges" data-nav-id="challenges" aria-label="廃校の現状と課題">廃校の現状と課題</a>
        <a href="#examples" data-nav-id="examples" aria-label="活用事例">活用事例</a>
        <a href="#nagano-details" data-nav-id="nagano-details" aria-label="長野の魅力と地域性">長野の魅力</a>
        <a href="#team" data-nav-id="team" aria-label="チーム紹介">チーム紹介</a>
        <a href="#contact" data-nav-id="contact" aria-label="お問い合わせ">お問い合わせ</a>
        <a href="#" id="adminLink" aria-label="管理者ページへ">管理者</a>
    </div>
  </nav>

  <button id="hamburger-btn" aria-label="メニューを開閉する" aria-expanded="false">
    <span class="hamburger-line"></span>
    <span class="hamburger-line"></span>
    <span class="hamburger-line"></span>
  </button>

  <div id="mobile-menu">
    <a href="#mission" aria-label="私たちの想い">私たちの想い</a>
    <a href="#usage" aria-label="廃校の活用案">廃校の活用案</a>
    <a href="#challenges" aria-label="廃校の現状と課題">廃校の現状と課題</a>
    <a href="#examples" aria-label="活用事例">活用事例</a>
    <a href="#nagano-details" aria-label="長野の魅力と地域性">長野の魅力</a>
    <a href="#team" aria-label="チーム紹介">チーム紹介</a>
    <a href="#contact" aria-label="お問い合わせ">お問い合わせ</a>
    <a href="#" id="adminLinkMobile" aria-label="管理者ページへ">管理者</a>
  </div>

  <main id="main-content" class="glass-effect">
    <section id="mission" data-section>
      <h2 class="animated-item">私たちの想い</h2>
      <div id="mission-content-container" class="animated-item delay-1">
        <p>少子化と過疎化が進行する長野県において、廃校は単なる空き家ではなく、地域の記憶と未来の可能性を秘めた大切な資源です。私たちは、これらの廃校を新たな価値を持つ場所として再生し、地域活性化に貢献することを目指しています。</p>
      </div>
    </section>

    <section id="challenges" data-section>
      <h2 class="animated-item">廃校の現状と課題</h2>
      <div id="challenges-content-container" class="animated-item delay-1">
        <p>長野県における廃校は、以下のようないくつかの深刻な課題を抱えています。</p>
        <ul class="mt-4 stagger-container">
          <li class="stagger-item"><strong>維持管理コストの増大</strong>: 使われていない建物にも維持費用がかかり、自治体の財政を圧迫</li>
          <li class="stagger-item"><strong>老朽化と安全性の問題</strong>: 建物の老朽化により、安全面でのリスクが増加</li>
          <li class="stagger-item"><strong>景観の悪化</strong>: 荒廃した廃校が地域の景観と魅力を損なう</li>
          <li class="stagger-item"><strong>コミュニティ機能の喪失</strong>: 地域の交流の中心だった学校がなくなることで、コミュニティの結束が弱くなる</li>
        </ul>
      </div>
    </section>

    <section id="usage" data-section>
      <h2 class="animated-item">廃校の多様な活用案</h2>
      <div id="usage-intro-container" class="animated-item delay-1">
         <p class="mb-6">私たちは、廃校が持つ無限の可能性を信じ、地域に根ざした多様な活用アイデアを提案します。</p>
      </div>
      <div id="usage-ideas-container">
        <div class="idea animated-item delay-2">
          <h3>地域交流・活動拠点としての再生</h3>
          <p>使われなくなった教室や体育館を、多世代が交流できる場として再構築します。地域の集会所、高齢者サロン、子どもたちの遊び場として活用できます。</p>
        </div>
        <div class="idea animated-item delay-3">
          <h3>観光・宿泊施設への転換</h3>
          <p>廃校のノスタルジックな雰囲気を活かし、宿泊体験型施設やワーケーション向けの施設として整備し、都会からの訪問者を誘致します。</p>
        </div>
        <div class="idea animated-item delay-4">
          <h3>地域資源を学ぶ体験型教育施設</h3>
          <p>地元の豊かな自然や歴史、伝統文化を学べる体験型ミュージアムやワークショップスペースとして活用します。</p>
        </div>
      </div>
    </section>

    <section id="examples" data-section>
      <h2 class="animated-item">全国・長野県内の活用事例</h2>
      <div id="examples-intro-container" class="animated-item delay-1">
         <p class="mb-6">廃校の活用は、地域の課題解決と活性化に繋がる成功事例が多数存在します。</p>
      </div>
      <div id="examples-ideas-container">
        <div class="idea animated-item delay-2">
          <h3>道の駅「きらら289」（福島県南会津町）</h3>
          <p>旧南郷小学校の校舎を改修し、道の駅として生まれ変わりました。地域の特産品販売や休憩スペースとして活用されています。</p>
        </div>
        <div class="idea animated-item delay-3">
          <h3>「ちいさなせかい」（長野県大町市）</h3>
          <p>旧美麻小学校を利用した宿泊施設。ワーケーションや合宿利用にも対応し、地域に新たな賑わいをもたらしています。</p>
        </div>
      </div>
    </section>

    <section id="nagano-details" data-section>
      <h2 class="animated-item">長野の魅力と地域性</h2>
      <div id="nagano-details-content-container" class="animated-item delay-1">
        <p>長野県は、日本の本州中央部に位置する内陸県で、その広大な面積と多様な地理的特徴が最大の魅力です。標高3,000メートル級の山々が連なる「日本の屋根」として知られる中央アルプス、南アルプス、飛騨山脈（北アルプス）に囲まれ、美しい山岳景観が広がっています。</p>
      </div>
    </section>

    <section id="team" data-section>
      <h2 class="animated-item">プロジェクトメンバー</h2>
      <div id="team-content-container" class="animated-item delay-1">
         <p class="mb-6">このプロジェクトは、廃校問題に真摯に向き合うメンバーによって推進されています。</p>
      </div>
      <div class="team stagger-container" id="team-members-container">
        <div class="member stagger-item">
          <h4>國井秀哉</h4>
          <p>資料作成・Webサイト制作統括担当。プロジェクトのビジョンを明確にし、視覚的な魅力を最大限に引き出すための資料作成とWebサイト全体の統括を行いました。</p>
        </div>
        <div class="member stagger-item">
          <h4>安藤堪祐</h4>
          <p>地域住民との対話・議論推進担当。現地での詳細なヒアリングを通じて、地域の方々の生の声やニーズを深く掘り下げ、プロジェクトの方向性を決定しました。</p>
        </div>
        <div class="member stagger-item">
          <h4>加藤康成</h4>
          <p>プレゼンテーション資料作成・デザイン担当。複雑なデータや情報を分かりやすく、かつ美しく可視化するデザインスキルを活かしました。</p>
        </div>
        <div class="member stagger-item">
          <h4>伊沢威霖</h4>
          <p>プレゼンテーション資料作成・技術サポート担当。資料作成における技術的な側面を幅広くサポートし、発表がスムーズに行われるよう支えました。</p>
        </div>
      </div>
    </section>

    <section id="contact" data-section>
      <h2 class="animated-item">お問い合わせ</h2>
      <p class="mb-6 animated-item delay-1">プロジェクトに関するご質問やご意見は、以下のフォームからお寄せください。</p>
      <form id="contact-form" class="animated-item delay-2 glass-effect">
        <div class="form-group">
          <input type="text" id="name" name="name" required class="form-input">
          <label for="name" class="form-label">お名前</label>
        </div>

        <div class="form-group">
          <input type="email" id="email" name="email" required class="form-input">
          <label for="email" class="form-label">メールアドレス</label>
        </div>

        <div class="form-group">
          <textarea id="message" name="message" rows="5" required class="form-input"></textarea>
          <label for="message" class="form-label">メッセージ</label>
        </div>

        <input type="submit" value="送信" id="contact-submit-btn" class="btn">
      </form>
      <div id="form-message" class="mt-4 text-center" style="display: none;"></div>
    </section>
  </main>

  <footer>
    © 2025 長野の廃校殲滅計画！ All Rights Reserved.
  </footer>

  <button id="scrollToTopBtn" title="トップへ戻る" aria-label="ページトップへスクロール">↑</button>

  <script src="enhanced-interactions.js"></script>
  <script>
    // Original functionality preserved
    document.addEventListener('DOMContentLoaded', () => {
        const scrollToTopBtn = document.getElementById("scrollToTopBtn");
        const nav = document.querySelector('nav');
        const hamburgerBtn = document.getElementById('hamburger-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const preloader = document.getElementById('preloader');

        // Enhanced scroll functionality
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            if (scrolled > 300) {
                scrollToTopBtn.classList.add('visible');
                scrollToTopBtn.style.opacity = '0.8';
                scrollToTopBtn.style.visibility = 'visible';
                scrollToTopBtn.style.transform = 'translateY(0)';
            } else {
                scrollToTopBtn.classList.remove('visible');
                scrollToTopBtn.style.opacity = '0';
                scrollToTopBtn.style.visibility = 'hidden';
                scrollToTopBtn.style.transform = 'translateY(20px)';
            }

            if (scrolled > 50) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
        });

        scrollToTopBtn.addEventListener("click", () => {
            window.scrollTo({ top: 0, behavior: "smooth" });
        });

        // Enhanced mobile menu
        hamburgerBtn.addEventListener('click', () => {
            const isOpen = mobileMenu.classList.toggle('is-open');
            hamburgerBtn.classList.toggle('is-active');
            hamburgerBtn.setAttribute('aria-expanded', isOpen);
            document.body.classList.toggle('menu-open');
        });

        // Close mobile menu when clicking links
        mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.remove('is-open');
                hamburgerBtn.classList.remove('is-active');
                hamburgerBtn.setAttribute('aria-expanded', 'false');
                document.body.classList.remove('menu-open');
            });
        });

        // Enhanced section highlighting
        const sections = document.querySelectorAll('section[data-section]');
        const navLinks = document.querySelectorAll('#desktop-nav a[data-nav-id]');
        
        const sectionObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.getAttribute('id');
                    navLinks.forEach(link => {
                        link.classList.toggle('active', link.dataset.navId === id);
                    });
                }
            });
        }, { rootMargin: '-50% 0px -50% 0px', threshold: 0 });
        
        sections.forEach(section => sectionObserver.observe(section));

        // Enhanced form handling
        const contactForm = document.getElementById('contact-form');
        const formMessage = document.getElementById('form-message');
        const submitBtn = document.getElementById('contact-submit-btn');

        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Show loading state
            submitBtn.classList.add('btn-loading');
            submitBtn.disabled = true;
            submitBtn.textContent = '';
            
            setTimeout(() => {
                const name = document.getElementById('name').value;
                const email = document.getElementById('email').value;
                const message = document.getElementById('message').value;

                if (!name || !email || !message) {
                    formMessage.style.display = 'block';
                    formMessage.style.color = '#ef4444';
                    formMessage.textContent = '全ての必須項目を入力してください。';
                    submitBtn.classList.add('error-shake');
                } else {
                    formMessage.style.display = 'block';
                    formMessage.style.color = '#a7f3d0';
                    formMessage.textContent = 'お問い合わせありがとうございます！メッセージが送信されました。';
                    contactForm.reset();
                    submitBtn.classList.add('success-pulse');
                    
                    // Show success notification
                    if (window.enhancedAnimations) {
                        window.enhancedAnimations.showNotification('メッセージが送信されました！', 'success');
                    }
                }
                
                // Reset button state
                submitBtn.classList.remove('btn-loading');
                submitBtn.disabled = false;
                submitBtn.textContent = '送信';
                
                setTimeout(() => {
                    submitBtn.classList.remove('error-shake', 'success-pulse');
                }, 600);
            }, 1500);
        });

        // Enhanced preloader
        window.addEventListener('load', () => {
            preloader.classList.add('loaded');
            document.body.classList.remove('loading');
        });

        // Enhanced animations for elements
        const animatedElements = document.querySelectorAll('.animated-item, h2');
        const animationObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    if (entry.target.tagName === 'H2') {
                        // Add text shimmer effect
                        setTimeout(() => {
                            entry.target.style.position = 'relative';
                        }, 500);
                    }
                }
            });
        }, { threshold: 0.1 });
        
        animatedElements.forEach(item => animationObserver.observe(item));

        console.log('🚀 Enhanced website loaded successfully!');
    });
  </script>
</body>
</html>